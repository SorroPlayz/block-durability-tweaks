# ============================================================
# BlockDurabilityTweaks (1.20.1) - Stages 1-6
# ============================================================
# Vanilla-by-default:
# - Active profile is 'vanilla' unless you load a different one.
# - vanilla profile has multipliers 1.0 and no overrides.
#
# Folder layout (auto-generated):
#   plugins/BlockDurabilityTweaks/
#     config.yml
#     README-GENERATED.txt
#     worlds/<world>/vanilla.yml
#     worlds/<world>/profiles/<profile>.yml
#     worlds/<world>/damage.yml           (only if persistent damage enabled)
#
# Core commands:
# - /blockdurability info
# - /blockdurability reload
# - /blockdurability gui
# - /blockdurability world list [world]
# - /blockdurability world load <world> <profile>
# - /blockdurability world save <world> <profile>
# - /blockdurability world reset <world>
# - /blockdurability world vanilla <world>
# - /blockdurability events list
# - /blockdurability events run <name>
# - /blockdurability events stop <name>
#
# ------------------------------------------------------------
# FEATURE TOGGLES
# ------------------------------------------------------------
features:
  # MULTIPLIER = profile hardness/blast multipliers (and overrides)
  # HP         = Rust-style block HP (see hp_mode section)
  mode: MULTIPLIER  # MULTIPLIER | HP

  explosions:
    enabled: true

  mining:
    enabled: true
    intercept_break: true
    animation_tick_rate: 2
    animation_radius: 64
    clear_cracks_on_abort: true

  per_tool_multipliers: false
  per_biome_modifiers: false
  gui_profile_selector: false
  timed_profile_events: false
  persistent_block_damage: false

worldguard:
  respect_worldguard: true

profiles:
  active_per_world:
    world: vanilla

# ------------------------------------------------------------
# STAGE 2: PER-TOOL MULTIPLIERS
# ------------------------------------------------------------
tool_multipliers:
  enabled: false
  default: 1.0
  by_tool:
    WOODEN_PICKAXE: 2.00
    STONE_PICKAXE: 1.60
    IRON_PICKAXE: 1.30
    DIAMOND_PICKAXE: 1.15
    NETHERITE_PICKAXE: 1.10
  efficiency:
    enabled: true
    per_level: 0.92

# ------------------------------------------------------------
# STAGE 3: PER-BIOME MODIFIERS
# ------------------------------------------------------------
# Applied to mining only.
# MULTIPLIER mode: finalHardnessMultiplier *= biomeMultiplier
# HP mode: damage per tick *= (1 / biomeMultiplier) by default (configurable below)
biome_modifiers:
  enabled: false
  default: 1.0
  by_biome:
    DESERT: 1.15
    BADLANDS: 1.25
    SWAMP: 0.95
  hp_mode_damage_behavior: "DIVIDE" # MULTIPLY | DIVIDE
  # DIVIDE = higher biome multiplier makes blocks tougher (less damage)
  # MULTIPLY = higher biome multiplier makes blocks weaker (more damage)

# ------------------------------------------------------------
# STAGE 4: GUI PROFILE SELECTOR
# ------------------------------------------------------------
gui:
  enabled: false
  title: "&bDurability Profiles"
  rows: 6
  require_permission: true
  permission: "blockdurabilitytweaks.gui.open"

# ------------------------------------------------------------
# STAGE 5: TIMED PROFILE EVENTS
# ------------------------------------------------------------
events:
  enabled: false
  timezone: "Europe/London"
  # Schedules are checked once per minute.
  # Supported formats:
  # - start: "DAILY HH:MM" and either duration_minutes OR end: "DAILY HH:MM"
  # - start: "MON HH:MM" (MON,TUE,WED,THU,FRI,SAT,SUN)
  # - end can also be "MON HH:MM"
  schedules:
    WeekendHardcore:
      world: "world"
      profile: "rust_hardcore"
      start: "FRI 19:00"
      end: "SUN 23:00"

    RaidHour:
      world: "world"
      profile: "raid_hour"
      start: "DAILY 20:00"
      duration_minutes: 60

# ------------------------------------------------------------
# STAGE 6: HP MODE + DAMAGE MEMORY
# ------------------------------------------------------------
hp_mode:
  enabled: false
  defaults:
    # If no per-block HP is configured, HP is derived from vanilla hardness:
    hp_per_hardness: 50.0
    min_hp: 10
    max_hp: 5000

  # Optional explicit HP by block
  by_block:
    OBSIDIAN: 4000
    STONE: 200

damage_memory:
  enabled: false
  # How damage behaves when nobody mines the block
  decay:
    mode: "REGEN"   # REGEN | DECAY | NONE
    seconds: 120

  persistence:
    save_to_disk: false
    save_interval_seconds: 60

  # Crack visuals (ProtocolLib)
  cracks:
    enabled: true
    broadcast_radius: 64


# ------------------------------------------------------------
# WorldGuard region -> profile auto-binding
# ------------------------------------------------------------
region_profile_binding:
  enabled: false
  worlds: {}
  # Example:
  # worlds:
  #   world:
  #     regions:
  #       spawn: vanilla
  #       raid_zone: raid_hour

# ------------------------------------------------------------
# HP ActionBar display
# ------------------------------------------------------------
hp_actionbar:
  enabled: false
  format: "&cHP &7[&f{hp}&7/&f{max}&7] &8- &f{block}"
